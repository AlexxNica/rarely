(function(){function a(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=b.frequency,a=void 0===a?1:a,b=b.rareEffeciency,b=void 0===b?1E3:b;this.frequency=a;this.rareEffeciency=b;this.rareIndex=b/a;this.callIndex=0;this._calls=[];this._err=null;return this}a.prototype.err=function(a){this._err=a;return this};a.prototype.call=function(a){for(var b=this.rareEffeciency,c=0;c<b;)this._calls.push(a),c++;return this};a.prototype.run=function(){this.callIndex++;if(this.callIndex>=this.rareIndex){var a,d=this.callIndex-1;(a=this._calls)[d].apply(a,arguments);this.callIndex-=this.rareIndex}else this._err&&this._err.apply(this,arguments);return this};"function"===typeof define&&define.amd?define([],function(){return a}):"object"===typeof module&&module.exports?module.exports=a:"undefined"!==typeof exports?exports.Rarely=a:"undefined"!==typeof window?window.Rarely=a:this.Rarely=a;return a})();